{"ast":null,"code":"var _class;\nimport { Login } from 'src/app/shared/models/login.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/login.service\";\nimport * as i2 from \"@angular/router\";\nconst _c0 = [\"formLogin\"];\nexport class LoginComponent {\n  constructor(loginService, router, route) {\n    this.loginService = loginService;\n    this.router = router;\n    this.route = route;\n    this.login = new Login();\n    this.loading = false;\n  }\n  ngOnInit() {\n    if (this.loginService.usuarioLogado) {\n      this.router.navigate([\"/home\"]);\n    }\n  }\n  logar() {\n    this.loading = true;\n    if (this.formLogin.form.valid) {\n      this.loginService.login(this.login).subscribe(usu => {\n        if (usu != null) {\n          this.loginService.usuarioLogado = usu;\n          this.loading = false;\n          this.router.navigate([\"/home\"]);\n        } else {\n          this.message = \"Usuário/Senha inválidos.\";\n        }\n      });\n    }\n    this.loading = false;\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  viewQuery: function LoginComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.formLogin = _t.first);\n    }\n  },\n  decls: 2,\n  vars: 0,\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"login works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Login","LoginComponent","constructor","loginService","router","route","login","loading","ngOnInit","usuarioLogado","navigate","logar","formLogin","form","valid","subscribe","usu","message","i0","ɵɵdirectiveInject","i1","LoginService","i2","Router","ActivatedRoute","selectors","viewQuery","LoginComponent_Query","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["/home/requisitos/Acacia/Pessoais/estudos/raizer-angular/trabalho-razer/trabalho-razer/src/app/auth/login/login.component.ts","/home/requisitos/Acacia/Pessoais/estudos/raizer-angular/trabalho-razer/trabalho-razer/src/app/auth/login/login.component.html"],"sourcesContent":["import { Component, OnInit,ViewChild } from '@angular/core';\nimport { Login } from 'src/app/shared/models/login.model';\nimport { NgForm, NgModel } from '@angular/forms';\nimport { LoginService } from '../services/login.service';\nimport { Router, ActivatedRoute, Route } from '@angular/router';\n\n\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n \n\n  @ViewChild('formLogin') formLogin! : NgForm;\n  login: Login = new Login();\n  loading: boolean = false;\n  message!: string;\n\n  \nconstructor (\n\n  private loginService: LoginService,\n  private router: Router,\n  private route: ActivatedRoute) {}\n  \n  ngOnInit(): void {\n      \n    if (this.loginService.usuarioLogado) {\n      this.router.navigate( [\"/home\"] );\n      }\n    }\n  \n  logar(): void {\n    this.loading = true;\n    if (this.formLogin.form.valid) {\n    this.loginService.login(this.login).subscribe((usu) => {\n    if (usu != null) {\n\n    this.loginService.usuarioLogado = usu;\n    this.loading = false;\n    this.router.navigate( [\"/home\"] );\n    }\n    else {\n    this.message = \"Usuário/Senha inválidos.\";\n    }\n    });\n    }\n    this.loading = false;\n    }\n  }\n","<p>login works!</p>\n"],"mappings":";AACA,SAASA,KAAK,QAAQ,mCAAmC;;;;;AAazD,OAAM,MAAOC,cAAc;EAU3BC,YAEUC,YAA0B,EAC1BC,MAAc,EACdC,KAAqB;IAFrB,KAAAF,YAAY,GAAZA,YAAY;IACZ,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IATb,KAAAC,KAAK,GAAU,IAAIN,KAAK,EAAE;IAC1B,KAAAO,OAAO,GAAY,KAAK;EAQQ;EAEhCC,QAAQA,CAAA;IAEN,IAAI,IAAI,CAACL,YAAY,CAACM,aAAa,EAAE;MACnC,IAAI,CAACL,MAAM,CAACM,QAAQ,CAAE,CAAC,OAAO,CAAC,CAAE;;EAEnC;EAEFC,KAAKA,CAAA;IACH,IAAI,CAACJ,OAAO,GAAG,IAAI;IACnB,IAAI,IAAI,CAACK,SAAS,CAACC,IAAI,CAACC,KAAK,EAAE;MAC/B,IAAI,CAACX,YAAY,CAACG,KAAK,CAAC,IAAI,CAACA,KAAK,CAAC,CAACS,SAAS,CAAEC,GAAG,IAAI;QACtD,IAAIA,GAAG,IAAI,IAAI,EAAE;UAEjB,IAAI,CAACb,YAAY,CAACM,aAAa,GAAGO,GAAG;UACrC,IAAI,CAACT,OAAO,GAAG,KAAK;UACpB,IAAI,CAACH,MAAM,CAACM,QAAQ,CAAE,CAAC,OAAO,CAAC,CAAE;SAChC,MACI;UACL,IAAI,CAACO,OAAO,GAAG,0BAA0B;;MAEzC,CAAC,CAAC;;IAEF,IAAI,CAACV,OAAO,GAAG,KAAK;EACpB;;SAvCSN,cAAc;;mBAAdA,MAAc,EAAAiB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,YAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAE,cAAA;AAAA;;QAAdvB,MAAc;EAAAwB,SAAA;EAAAC,SAAA,WAAAC,qBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;;;;;;;;;;;MCd3BV,EAAA,CAAAY,cAAA,QAAG;MAAAZ,EAAA,CAAAa,MAAA,mBAAY;MAAAb,EAAA,CAAAc,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}